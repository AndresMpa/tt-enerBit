import { useState, useEffect } from "react";
import axios from "axios";

import config from "../config.json";
import Swal from "sweetalert2";

const useGetData = (endpoint) => {
  let point = endpoint ?? ""
  const [target, setTarget] = useState([]);

  useEffect(() => {
    const getData = async () => {
      axios
        .get(`${config.API}${point}`)
        .then((response) => {
          setTarget(response.data);
        })
        .catch((error) => {
          console.log(error);
          Swal.fire({
            title: "Ups...",
            icon: "error",
            text: "Something went wrong, please refresh this page",
            timer: 2000,
          });
        });
    };

    getData();
  }, []);

  return target;
  let data = {
    items: [
      {
        serial: "string",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "string",
        manufacturer: "string",
        purchase: "string",
        i_max: 0.0,
        i_b: 0.0,
        i_n: 0.0,
        seals: 0.0,
        id: 3,
        created_at: "2022-11-03T17:28:58.601571",
        updated_at: "2022-11-05T16:21:49.236744",
      },
      {
        serial: "string",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "string",
        manufacturer: "string",
        purchase: "string",
        i_max: 0.0,
        i_b: 0.0,
        i_n: 0.0,
        seals: 0.0,
        id: 4,
        created_at: "2022-11-03T17:29:01.277029",
        updated_at: "2022-11-05T01:01:25.044008",
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 5,
        created_at: "2022-11-03T22:23:00.592181",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 6,
        created_at: "2022-11-05T00:08:36.297002",
        updated_at: null,
      },
      {
        serial: "12345",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen Local",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 7,
        created_at: "2022-11-05T22:09:40.876069",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 8,
        created_at: "2022-11-06T23:04:57.363272",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 9,
        created_at: "2022-11-08T04:21:51.973242",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 10,
        created_at: "2022-11-08T23:07:43.940486",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 11,
        created_at: "2022-11-08T23:09:21.198881",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "indirecta",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 12,
        created_at: "2022-11-12T16:43:54.794454",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "indirecta",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 13,
        created_at: "2022-11-12T16:47:22.775672",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 14,
        created_at: "2022-11-12T17:13:19.444763",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 15,
        created_at: "2022-11-12T17:18:40.741343",
        updated_at: null,
      },
      {
        serial: "342423423",
        connection_type: "directa",
        storage_system: "interno",
        condition: "nuevo",
        owner: "RF",
        location: "Almacen palmira",
        manufacturer: "yes",
        purchase: "2022-07-28 03:08:49.340514",
        i_max: 6345.654,
        i_b: 21.5,
        i_n: 876.5,
        seals: 545.65,
        id: 16,
        created_at: "2022-11-12T17:18:53.949976",
        updated_at: null,
      },
    ],
    page: 0,
    size: 50,
    total: 14,
    pages: 1,
    next_page: null,
    previous_page: null,
  };
};

export default useGetData;
